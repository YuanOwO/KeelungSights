html,
body {
    height: 100%;
}

body {
    display: flex;
    flex-direction: column;
}

a {
    color: inherit;
    text-underline-offset: 0.125em;
}

.page .container-md {
    margin-top: 3rem;
    margin-bottom: 3rem;
}

.flex-center {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

/**
 *
 * Loading
 *
 */

#loading {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    z-index: 9999;

    background-color: rgb(255, 255, 255);

    font-size: 4rem;
    font-weight: 900;

    animation: colorChange 4s infinite alternate;
}

#loading span {
    display: inline-block;
    animation: loading-shack 0.7s infinite;
}

#loading img {
    animation: loading-rotate 1.25s linear infinite;
}

@keyframes loading-rotate {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

@keyframes loading-shack {
    0%,
    100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(0.25em);
    }
}

/**
 *
 * Index Page
 *
 */

.districts a {
    color: var(--bs-link-color);
    text-decoration: none;
    margin-right: 0.5em;

    &::before {
        content: "[";
        color: black;
        margin-right: 0.125em;
    }

    &::after {
        content: "]";
        color: black;
        margin-left: 0.125em;
    }
}

path[data-town="仁愛區"] {
    --fill-color: #d27a74;
    --fill-color-hover: #ebc4c1;
}
path[data-town="信義區"] {
    --fill-color: #e0935e;
    --fill-color-hover: #f1cfb7;
}
path[data-town="中正區"] {
    --fill-color: #e0ca48;
    --fill-color-hover: #f1e7ad;
}
path[data-town="中山區"] {
    --fill-color: #83c262;
    --fill-color-hover: #c8e4b9;
}
path[data-town="暖暖區"] {
    --fill-color: #69bcce;
    --fill-color-hover: #bce1e9;
}
path[data-town="七堵區"] {
    --fill-color: #9a66be;
    --fill-color-hover: #d2bbe2;
}
path[data-town="安樂區"] {
    --fill-color: #667dbe;
    --fill-color-hover: #bbc5e2;
}

svg path {
    fill: #ebebeb;
    stroke: #c5c5c5;
}

svg text {
    text-decoration: none;
    font-size: 3rem;
    font-weight: 600;
    fill: gray;
    stroke: none;
    /* Unselectable */
    -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
    -khtml-user-select: none; /* Konqueror HTML */
    -moz-user-select: none; /* Old versions of Firefox */
    -ms-user-select: none; /* Internet Explorer/Edge */
    user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
}

svg a {
    text-decoration: none;
    path {
        fill: var(--fill-color);
        stroke: black;
    }
    text {
        fill: black;
    }
}

svg a:hover path {
    fill: var(--fill-color-hover);
}

#scale-bar text {
    font-size: 1rem;
    fill: black;
    stroke: none;
}

#scale-bar rect {
    stroke: black;

    &:nth-child(4n + 1),
    &:nth-child(4n + 4) {
        fill: black;
    }
    &:nth-child(4n + 2),
    &:nth-child(4n + 3) {
        fill: white;
    }
}

#indicator circle {
    fill: none;
    stroke: black;
}

#indicator path {
    stroke: black;

    &:first-child {
        fill: black;
    }
    &:nth-child(2) {
        fill: white;
    }
}

#indicator text {
    font-size: 1.5rem;
    fill: black;
    stroke: none;
}

/**
 *
 * List Page
 *
 */

.card img {
    object-fit: cover;
}

.card p {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
}

.card i.bi {
    margin-right: 0.5em;
}

.card {
    --margin-size: 1rem;
    width: calc(100% - var(--margin-size));
}

/* sm */
@media (min-width: 576px) {
    .card {
        width: calc(50% - var(--margin-size));
    }
}

/* lg */
@media (min-width: 992px) {
    .card {
        width: calc(33% - var(--margin-size));
    }
}

/* xl */
@media (min-width: 1200px) {
    .card {
        width: calc(25% - var(--margin-size));
    }
}

/**
 *
 * Sights Page
 *
 */

#sight-carousel img,
#sight-carousel svg {
    display: block;
    width: 100%;
    height: min(60vh, calc(37.5vw)); /* 24:9 */
    object-fit: cover;

    font-size: min(10vw, 30vh);
    /* Unselectable */
    -webkit-touch-callout: none; /* iOS Safari */
    -webkit-user-select: none; /* Safari */
    -khtml-user-select: none; /* Konqueror HTML */
    -moz-user-select: none; /* Old versions of Firefox */
    -ms-user-select: none; /* Internet Explorer/Edge */
    user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
}

#sight-info div {
    display: inline-block;

    &:not(:first-child)::before {
        content: "．";
    }
}
